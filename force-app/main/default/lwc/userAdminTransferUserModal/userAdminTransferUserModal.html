<!--
  @description       : 
  @author            : woomg@dkbmc.com
  @group             : 
  @last modified on  : 2024-02-15
  @last modified by  : woomg@dkbmc.com
-->
<template>
	<section
		role="dialog"
		tabindex="-1"
		class="slds-modal slds-fade-in-open slds-modal_small"
		aria-hidden="true"
		aria-modal="true"
		aria-describedby="modal-content-detail-node">

		<lightning-record-edit-form
		id="transferUser"
		object-api-name="User"
		onsubmit={handleSubmit}
		onsuccess={handleSuccess}><!--  -->

			<article class="slds-modal__container">
    			<lightning-button-icon
					class="slds-modal__close"
					title="Close"
					icon-name="utility:close"
					icon-class="slds-button_icon-inverse"
					onclick={closeModal}
				></lightning-button-icon>
				<header class="slds-modal__header">
					<h2 class="slds-modal__title slds-hyphenate">Transfer User</h2>
				</header>
				<div class="slds-modal__content slds-is-relative ">
					<template if:true={showSpinner}>
						<lightning-spinner alternative-text="Loading" size="medium"></lightning-spinner>
					</template>			
					<lightning-layout class="slds-var-p-top_small">
						<lightning-layout-item size="6" padding="horizontal-small">
							<h3 style="font-size:1.2rem;font-weight:bold;">Exsiting User Information</h3>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<h3 style="font-size:1.2rem;font-weight:bold;">Transfer to...</h3>
						</lightning-layout-item>
					</lightning-layout>
					<lightning-layout multiple-rows="true" class="slds-var-p-top_small transfer-box">
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input label="Last Name" value={oldUser.LastName} variant="label-inline" disabled="true"></lightning-input>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input-field field-name={User.LastName} value={userData.lastName}></lightning-input-field>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input label="First Name" value={oldUser.FirstName} variant="label-inline" disabled="true"></lightning-input>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input-field field-name={User.FirstName} value={userData.firstName}></lightning-input-field>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							&nbsp;
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input-field field-name={User.Alias} value={userData.alias}></lightning-input-field>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input label="Username" value={oldUser.Username} variant="label-inline" disabled="true"></lightning-input>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input-field field-name={User.Username} value={userData.username}></lightning-input-field>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input label="Email" value={oldUser.Email} variant="label-inline" disabled="true"></lightning-input>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input-field field-name={User.Email}  value={userData.email}></lightning-input-field>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input label="SSO Id" value={oldUser.FederationIdentifier} variant="label-inline" disabled="true"></lightning-input>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input-field field-name={User.SSOID} value={userData.ssoId}></lightning-input-field>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input label="Profile Name" value={oldUser.Profile.Name} variant="label-inline" disabled="true"></lightning-input>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input-field field-name={User.ProfileId}></lightning-input-field>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input label="Role Name" value={oldUser.Role.Name} variant="label-inline" disabled="true"></lightning-input>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input-field field-name={User.RoleId}></lightning-input-field>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							&nbsp;
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input-field field-name={User.IsActive}></lightning-input-field>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input label="Title" value={oldUser.Title} variant="label-inline" disabled="true"></lightning-input>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input-field field-name={User.Title}  value={userData.position}></lightning-input-field>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input label="Division" value={oldUser.Division} variant="label-inline" disabled="true"></lightning-input>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input-field field-name={User.Division}  value={userData.division}></lightning-input-field>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input label="Department" value={oldUser.Department} variant="label-inline" disabled="true"></lightning-input>
						</lightning-layout-item>
						<lightning-layout-item size="6" padding="horizontal-small">
							<lightning-input-field field-name={User.Department} value={userData.department}></lightning-input-field>
						</lightning-layout-item>
					</lightning-layout>
				</div>
				<footer class="slds-modal__footer">
					<lightning-button
						class="slds-var-m-right_small"
						variant="neutral"
						type="button"
						onclick={closeModal}
						label="Cancel">
					</lightning-button>
					<lightning-button
						class="slds-var-m-right_small"
						variant="brand"
						type="submit"
						label="Transfer">
					</lightning-button>
				</footer>
			</article>

		</lightning-record-edit-form>
	</section>
	<div class="slds-backdrop slds-backdrop_open"></div>
</template>